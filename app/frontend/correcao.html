<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>CorreÃ§Ã£o de RedaÃ§Ãµes</title>
  <link rel="stylesheet" href="css/base.css">
</head>
<body>

<!-- âœ… IMPORTANTE (checklist aplicado):
     - SÃ³ existe 1 #menuBtn e 1 #menuPanel nesta pÃ¡gina
     - Apenas 1 initMenuPerfil() no final
-->

<!-- ğŸ”¹ BotÃ£o do menu (canto superior) -->
<button id="menuBtn" class="menu-btn" title="Menu do perfil">â˜°</button>

<!-- ğŸ”¹ Painel oculto -->
<aside id="menuPanel" class="menu-panel">
  <div class="menu-header">
    <strong>Meu perfil</strong>
    <button id="menuCloseBtn" class="menu-close" title="Fechar">âœ•</button>
  </div>

  <div class="menu-body">
    <div class="menu-photo">
      <img id="menuPhotoImg" class="menu-photo-img" alt="Foto do perfil" />
      <label class="menu-photo-label">
        Alterar foto
        <input id="menuPhotoInput" type="file" accept="image/png,image/jpeg" />
      </label>
    </div>

    <p><strong>Nome:</strong> <span id="meName">...</span></p>
    <p><strong>E-mail:</strong> <span id="meEmail">...</span></p>
    <!-- âœ… ID removido para simplificar (como vocÃª pediu) -->
    <!-- <p><strong>ID:</strong> <span id="meId">...</span></p> -->
    <p><strong>Perfil:</strong> <span id="meRole">...</span></p>

    <hr>

    <h4>Atualizar dados</h4>
    <input id="newEmail" type="email" placeholder="Novo e-mail (opcional)" autocomplete="email" />
    <input id="newPass" type="password" placeholder="Nova senha (mÃ­n. 8) (opcional)" autocomplete="new-password" />
    <button id="saveProfileBtn">Salvar</button>

    <p id="menuStatus"></p>

    <hr>

    <button id="logoutMenuBtn">Sair</button>
    <button id="deleteAccountBtn" class="danger">Excluir conta</button>
  </div>
</aside>

<h2>CorreÃ§Ã£o de RedaÃ§Ãµes</h2>

<section>
  <ul id="essaysList" class="lista"></ul>
</section>

<hr>

<section id="correctionSection" style="display:none;">
  <h3 id="studentName"></h3>
  <p id="studentEmail"></p>

  <h4>RedaÃ§Ã£o</h4>
  <p id="essayContent" class="box"></p>

  <h4>CorreÃ§Ã£o (ENEM)</h4>
  <p><strong>CompetÃªncias (0 a 200 cada)</strong></p>

  <label for="c1"><strong>CompetÃªncia 1:</strong> DomÃ­nio da norma culta</label>
  <input type="number" id="c1" min="0" max="200" placeholder="0..200" />

  <label for="c2"><strong>CompetÃªncia 2:</strong> CompreensÃ£o do tema e repertÃ³rio</label>
  <input type="number" id="c2" min="0" max="200" placeholder="0..200" />

  <label for="c3"><strong>CompetÃªncia 3:</strong> ArgumentaÃ§Ã£o</label>
  <input type="number" id="c3" min="0" max="200" placeholder="0..200" />

  <label for="c4"><strong>CompetÃªncia 4:</strong> CoesÃ£o e coerÃªncia</label>
  <input type="number" id="c4" min="0" max="200" placeholder="0..200" />

  <label for="c5"><strong>CompetÃªncia 5:</strong> Proposta de intervenÃ§Ã£o</label>
  <input type="number" id="c5" min="0" max="200" placeholder="0..200" />

  <p><strong>Total:</strong> <span id="totalScore">â€”</span> / 1000</p>

  <textarea
    id="feedback"
    placeholder="Escreva o feedback aqui..."
    rows="6"
  ></textarea>

  <br><br>
  <button id="saveCorrectionBtn">Salvar correÃ§Ã£o</button>

  <p id="status"></p>
</section>

<script type="module" src="js/correcao.js"></script>

<script type="module">
  import { initMenuPerfil } from './js/menu-perfil.js';

  initMenuPerfil({
    loginRedirect: 'login.html',
    logoutRedirectProfessor: 'login-professor.html',
    logoutRedirectStudent: 'login-aluno.html'
  });
</script>

</body>
</html>
